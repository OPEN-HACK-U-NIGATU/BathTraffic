{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>お風呂の混雑状況</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: serif, cursive; /* 行書体に変更 */
            text-align: center;
            background-repeat: none;
            background-size: cover;
            background-position: center;
            background-image: url({% static "img/hinoki.jpg" %});
        }

        /* タイトルのスタイル */
        h1 {
            font-family: "HG行書体", cursive; /* 行書体に変更 */
            font-size: 50px; /*フォントサイズ*/
            text-align: center; /* タイトルを中央揃えにする */
        }

        /* コンテナのスタイル */
        .bath-container {
            display: inline-block;
            align-items: center; /* 中央揃え */
            border: 2px solid #ccc;
            border-radius: 5px;
            width: min(90%, 550px);
            height: fit-content;
            margin: 20px 2vw;
            background-color: #E9B362; /* 背景色を設定 */
            position: relative; /* 相対位置指定 */
            padding-bottom: 0;
            height: 500px;
            box-shadow: 10px 10px 5px black;
            border: 1px solid #000;
            border-radius: 20px;
        }
        
        /* 風呂名のスタイル */
        h2 {
            font-family: "HG行書体", cursive; /* 行書体に変更 */
            font-size: 60px; /*フォントサイズ*/
            text-align: center; /* テキストを中央揃えにする */
            position: absolute; /* 絶対位置指定 */
            top: 0; /* 上部に配置 */
            left: 50%; /* 中央に配置 */
            transform: translateX(-50%); /* 水平方向に中央揃え */
            width: 100%;
        }

        /* 人数表示のスタイル */
        .count {
            font-size: 200px; /* 数値のフォントサイズを大きくする */
            text-align: center; /* テキストを中央揃えにする */
            width: 300px;
            top: 20%;
            margin: 170px 0 0 110px;
            text-shadow:
                -2px -2px 0 black,
                2px -2px 0 black,
                -2px 2px 0 black,
                2px 2px 0 black; /* 影を追加して黒い縁取りを作成 */
        }

        /* 単位のスタイル */
        .unit {
            font-size: 14px; /* 単位のフォントサイズを調整 */
            color: black !important; /* 人の色を黒に設定 */
        }

        /* 色付けのスタイル */
        .green {
            color: green;
        }

        .yellow {
            color: yellow;
        }

        .red {
            color: red;
        }

        #detailPeople {
            display: block;
        }

        .ninn {
            display: block;
            margin-left: 50%;
            transform: translateY(-200px);
        }

        .ninn h3 {
            font-size: 50px;
            display: inline-block;
            width: 20px;
            margin-right: 0;
            text-align: left;
        }

        @media screen and (min-width: 611px) and (max-width: 1227px) {
            .count {
                margin: 170px 0 0 150px;
            }
        }

        @media screen and (max-width: 611px) {
            .count {
                margin: 170px 0 0 calc(20% - 100px);
            }
        }
    </style>
</head>
<body>
    <h1>現在のお風呂の混雑状況</h1>

    <div id="detailPeople">
        <!-- 小風呂の人数を表示する枠 -->
        <div class="bath-container">
            <span>
                <h2>小風呂</h2>
                <!-- 人数表示に色のクラスを追加 -->
                <p id="small-bath-count" class="count"></p>
            </span>
            <span class="ninn">
                <h3>人</h3>
                <p class="unit"></p>
            </span>
        </div>

        <!-- 大風呂の人数を表示する枠 -->
        <div class="bath-container">
            <span>
                <h2>大風呂</h2>
                <!-- 人数表示に色のクラスを追加 -->
                <p id="large-bath-count" class="count"></p>
            </span>
            <span class="ninn">
                <h3>人</h3>
                <p class="unit"></p>
            </span>
        </div>
    </div>

    <!-- JavaScriptを読み込みます -->
    <script>
        // サーバーから小風呂の人数を取得する関数（仮の実装）
        function fetchSmallBathCount() {
            // ここで実際のデータを取得する通信を行います
            // この例では仮の数値を返します
            return 2;
        }

        // サーバーから大風呂の人数を取得する関数（仮の実装）
        function fetchLargeBathCount() {
            // ここで実際のデータを取得する通信を行います
            // この例では仮の数値を返します
            return 7;
        }

        // 小風呂と大風呂の人数を表示する関数
        function displayBathCounts() {
            const smallBathCount = fetchSmallBathCount(); // 小風呂の人数を取得
            const largeBathCount = fetchLargeBathCount(); // 大風呂の人数を取得

            // HTMLに人数を表示し、条件に応じて数字の色を変更します
            const smallBathCountElement = document.getElementById("small-bath-count");
            smallBathCountElement.textContent = `${smallBathCount}`;
            if (smallBathCount >= 0 && smallBathCount <= 2) {
                smallBathCountElement.classList.add("green");
            } else if (smallBathCount >= 3 && smallBathCount <= 4) {
                smallBathCountElement.classList.add("yellow");
            } else if (smallBathCount >= 5 && smallBathCount <= 6) {
                smallBathCountElement.classList.add("red");
            }

            // HTMLに人数を表示し、条件に応じて数字の色を変更します
            const largeBathCountElement = document.getElementById("large-bath-count");
            largeBathCountElement.textContent = `${largeBathCount}`;
            if (largeBathCount >= 0 && largeBathCount <= 3) {
                largeBathCountElement.classList.add("green");
            } else if (largeBathCount >= 4 && largeBathCount <= 6) {
                largeBathCountElement.classList.add("yellow");
            } else if (largeBathCount >= 7 && largeBathCount <= 8) {
                largeBathCountElement.classList.add("red");
            }
        }

        // ページが読み込まれたときに人数を表示
        window.onload = displayBathCounts;
    </script>
</body>
</html>
